<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2026 병오년 인생 마권</title>
    <style>
        /* --- 1. 기본 스타일 --- */
        @import url('https://fonts.googleapis.com/css2?family=Courier+Prime:wght@400;700&family=Noto+Sans+KR:wght@400;700;900&display=swap');

        :root {
            --primary-blue: #5773ff;
            --bg-color: #2E4631;
            --paper-color: #fffdf5;
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background-color: var(--bg-color);
            font-family: 'Noto Sans KR', sans-serif;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #app {
            width: 100%;
            max-width: 420px;
            height: 100%;
            position: relative;
            background-image: radial-gradient(circle, #3a573e 1px, transparent 1px);
            background-size: 20px 20px;
        }

        /* --- 2. 화면 전환 관리 --- */
        .screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: opacity 0.5s ease;
            opacity: 0;
            pointer-events: none;
            z-index: 0;
        }

        .screen.active {
            opacity: 1;
            pointer-events: all;
            z-index: 10;
        }

        /* --- 3. UI 요소 스타일 --- */
        .title-box {
            text-align: center;
            color: #fff;
            margin-bottom: 40px;
        }
        .title-box h1 {
            font-size: 2.5rem;
            margin: 0;
            text-shadow: 2px 2px 0px var(--primary-red);
        }
        .title-box p {
            font-size: 1.1rem;
            opacity: 0.8;
            margin-top: 10px;
        }

        input[type="text"] {
            background: rgba(255,255,255,0.9);
            border: none;
            border-bottom: 4px solid var(--primary-red);
            padding: 15px;
            font-size: 1.2rem;
            text-align: center;
            width: 70%;
            border-radius: 10px;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .btn-main {
            background-color: var(--primary-red);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            transition: transform 0.1s;
        }
        .btn-main:active {
            transform: scale(0.95);
        }

        /* --- 4. 마권 디자인 --- */
        .ticket-wrapper {
            perspective: 1000px;
            margin-bottom: 20px;
            width: 90%; /* 모바일 대응 */
            display: flex;
            justify-content: center;
        }

        .ticket {
            width: 100%;
            max-width: 340px;
            background-color: var(--paper-color);
            padding: 20px;
            box-sizing: border-box;
            font-family: 'Courier Prime', monospace;
            position: relative;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            /* 영수증 찢어진 효과 */
            clip-path: polygon(
                0% 0%, 5% 2%, 10% 0%, 15% 2%, 20% 0%, 25% 2%, 30% 0%, 35% 2%, 40% 0%, 45% 2%, 50% 0%, 55% 2%, 60% 0%, 65% 2%, 70% 0%, 75% 2%, 80% 0%, 85% 2%, 90% 0%, 95% 2%, 100% 0%,
                100% 100%, 95% 98%, 90% 100%, 85% 98%, 80% 100%, 75% 98%, 70% 100%, 65% 98%, 60% 100%, 55% 98%, 50% 100%, 45% 98%, 40% 100%, 35% 98%, 30% 100%, 25% 98%, 20% 100%, 15% 98%, 10% 100%, 5% 98%, 0% 100%
            );
        }

        .printing-anim {
            animation: printDown 1.5s ease-out forwards;
            transform-origin: top center;
        }

        @keyframes printDown {
            0% { transform: translateY(-300px); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
        }

        .ticket-header {
            text-align: center;
            border-bottom: 2px dashed #333;
            padding-bottom: 15px;
            margin-bottom: 15px;
        }
        .ticket-logo {
            font-size: 1.4rem;
            font-weight: 900;
            letter-spacing: -1px;
        }

        .ticket-body { display: flex; flex-direction: column; gap: 8px; }

        .row { display: flex; justify-content: space-between; font-size: 0.85rem; color: #333; }
        .row.big { font-size: 1rem; font-weight: bold; margin: 5px 0; border-bottom: 1px solid #ddd; padding-bottom: 5px; }

        .horse-name-display {
            font-size: 1.6rem;
            font-weight: 900;
            text-align: center;
            color: var(--primary-red);
            margin: 10px 0;
            text-transform: uppercase;
            border: 2px solid var(--primary-red);
            padding: 8px;
            border-radius: 4px;
            transform: rotate(-2deg);
        }

        /* --- ★ 추가된 운세 영역 스타일 --- */
        .fortune-box {
            margin-top: 15px;
            border: 2px solid #333;
            background-color: #eee;
            padding: 10px;
            text-align: center;
            border-radius: 5px;
        }
        .fortune-label {
            font-size: 0.8rem;
            font-weight: bold;
            display: block;
            margin-bottom: 5px;
            color: #555;
        }
        .fortune-content {
            font-family: 'Noto Sans KR', sans-serif; /* 가독성을 위해 고딕체 */
            font-size: 1rem;
            font-weight: bold;
            color: #000;
            line-height: 1.4;
            word-break: keep-all;
        }

        .ticket-footer {
            margin-top: 15px;
            border-top: 2px dashed #333;
            padding-top: 10px;
            text-align: center;
        }
        .barcode {
            height: 30px;
            background: repeating-linear-gradient(to right, #000, #000 2px, #fff 2px, #fff 4px);
            margin: 10px auto;
            width: 80%;
            opacity: 0.8;
        }
        
        .action-buttons { display: flex; gap: 10px; margin-top: 10px; }
        .btn-small {
            background: #fff; color: #333; padding: 10px 20px; border-radius: 20px;
            font-size: 0.9rem; font-weight: bold; border: none; cursor: pointer;
        }
    </style>
</head>
<body>

    <div id="app">
        <div id="screen-intro" class="screen active">
            <div class="title-box">
                <p>2026 병오년(丙午年)</p>
                <h1>운세 마권<br>발매기</h1>
                <p>올해 당신의 운세를<br>점쳐드립니다!</p>
            </div>
            <button class="btn-main" onclick="goToInput()">발권하러 가기</button>
        </div>

        <div id="screen-input" class="screen">
            <div class="title-box">
                <h1>LUCKY 2026</h1>
                <p>이름을 입력하면<br>운세가 인쇄됩니다.</p>
            </div>
            <input type="text" id="userName" placeholder="이름 입력 (최대 6자)" maxlength="6">
            <button class="btn-main" onclick="printTicket()">운세 뽑기</button>
        </div>

        <div id="screen-result" class="screen">
            <div class="ticket-wrapper">
                <div id="ticket" class="ticket">
                    <div class="ticket-header">
                        <div class="ticket-logo">FORTUNE TICKET</div>
                        <div style="font-size:0.7rem;">2026 RED HORSE YEAR</div>
                    </div>

                    <div class="ticket-body">
                        <div class="row">
                            <span>발행일:</span>
                            <span id="printDate">2026-01-01</span>
                        </div>
                        <div class="row big">
                            <span>TYPE: 대박 기원</span>
                            <span>등급: 특급(AAA)</span>
                        </div>

                        <div style="text-align: center; font-size: 0.7rem; color:#555; margin-top:5px;">▼ PLAYER ▼</div>
                        <div class="horse-name-display" id="resultName">홍길동</div>

                        <div class="fortune-box">
                            <span class="fortune-label">★ BONUS FORTUNE ★</span>
                            <div class="fortune-content" id="fortuneResult">
                                </div>
                        </div>
                    </div>

                    <div class="ticket-footer">
                        <div class="barcode"></div>
                        <div style="font-size: 0.6rem; color:#777;">
                            이 마권은 1년 내내 행운을 보증합니다.<br>
                            KEEP THIS TICKET FOR GOOD LUCK
                        </div>
                    </div>
                </div>
            </div>

            <div class="action-buttons">
                <button class="btn-small" onclick="location.reload()">다시 뽑기</button>
                <button class="btn-small" style="background:#FFE082;" onclick="alert('화면을 캡쳐해서 저장하세요!')">부적 저장</button>
            </div>
        </div>
    </div>

    <script>
        // 날짜 설정
        document.getElementById('printDate').innerText = '2026-01-01 (목)';

        // ★ 운세 데이터베이스 (원하는 문구를 마음껏 추가하세요)
        const fortunes = [
            "적토마처럼 거침없이 질주하는 한 해! 막힘없이 뚫립니다.",
            "장애물은 가볍게 점프! 당신의 능력은 생각보다 뛰어납니다.",
            "뒤돌아보지 마세요. 결승선(목표)이 바로 코앞입니다!",
            "건강, 재물, 사랑. 트리플 크라운(3관왕) 달성 예정!",
            "주변의 도움으로 날개를 답니다. 페가수스처럼 비상하세요.",
            "생각지도 못한 '대박' 배당이 터집니다. 기회를 잡으세요!",
            "체력도 1등, 열정도 1등. 지치지 않는 에너지가 솟아납니다.",
            "천 리를 달리는 명마처럼, 당신의 이름이 널리 알려집니다.",
            "올해는 당신이 주인공! 어디를 가든 스포트라이트를 받습니다."
        ];

        function switchScreen(screenId) {
            document.querySelectorAll('.screen').forEach(el => el.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
        }

        function goToInput() {
            switchScreen('screen-input');
        }

        function printTicket() {
            const nameInput = document.getElementById('userName').value;
            
            if (!nameInput) {
                alert('이름을 입력해 주세요!');
                return;
            }

            // 1. 이름 세팅
            document.getElementById('resultName').innerText = nameInput;

            // 2. 랜덤 운세 뽑기 (핵심 로직)
            const randomMsg = fortunes[Math.floor(Math.random() * fortunes.length)];
            document.getElementById('fortuneResult').innerText = randomMsg;

            // 3. 화면 전환 및 애니메이션
            switchScreen('screen-result');
            const ticket = document.getElementById('ticket');
            ticket.classList.remove('printing-anim');
            void ticket.offsetWidth; 
            ticket.classList.add('printing-anim');
        }
    </script>
</body>
</html>
